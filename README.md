# Example Comunica Query Plans

This repository just contains some example queries, and the results and query plans produced for them by [Comunica](https://github.com/comunica/comunica). The [explain mode](https://comunica.dev/docs/query/advanced/explain/) can be used to generate query plans, as described in the documentation. The examples here have been generated by running Comunica on the command line, and redirecting the output to the files instead of terminal, to make sure the results are easy to reproduce. More example queries can be found through [the live demo](https://query.linkeddatafragments.org/).

The example queries are in the `queries` directory:

* `films.rq` for directors of films starring Brad Pitt
* `isocodes.rq` as the second query from a shared meeting document

There is the `scripts/explain.sh` bash script that just runs `comunica-sparql`:

* Without any explaining, to produce the results as `*-results.json`
* With `--explain logical`, to produce the logical query plan as `*-logical.json`
* With `--explain physical`, to produce the physical query plan as `*-physical.json`

To install the dependencies as they are in the Yarn lockfile and to run the bash script to generate the output:

```
yarn install --frozen-lockfile
yarn run explain
```

Please feel free to report any issues.
